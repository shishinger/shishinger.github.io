(function(){"use strict";var e={502:function(e,l,r){var a=r(963),n=r(252),t=r(577),u=r(262);const o=(0,n._)("div",{class:"modal"},[(0,n._)("p",null,"Карточка добавлена")],-1);function i(e,l){return(0,n.wg)(),(0,n.j4)(a.uT,null,{default:(0,n.w5)((()=>[o])),_:1})}var c=r(744);const s={},d=(0,c.Z)(s,[["render",i]]);var v=d;const p=["for"],m=["type","id","name","placeholder","value"],f={class:"error-msg"};var _={props:{id:String,labelName:String,type:String,placeholder:String,modelValue:[String,Number],modelModifiers:{default:()=>({})},errorMsg:String,error:Boolean},emits:["update:modelValue"],setup(e){return(l,r)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,t.C_)(["form__block",{error:e.error}])},[(0,n._)("label",{for:e.id,class:"label require"},(0,t.zw)(e.labelName),9,p),(0,n._)("input",{type:e.type,class:"input",id:e.id,name:e.id,placeholder:e.placeholder,value:e.modelValue,onInput:r[0]||(r[0]=e=>l.$emit("update:modelValue",e.target.value)),required:""},null,40,m),(0,n._)("div",f,(0,t.zw)(e.error?e.errorMsg:""),1)],2))}};const g=(0,c.Z)(_,[["__scopeId","data-v-eb0b350e"]]);var b=g;const h={class:"sort"},V=(0,n._)("label",{for:"sort",class:"hidden"},"Сортировать",-1),w=["value","onClick"],k=["onSubmit"],y={class:"form__block"},q=(0,n._)("label",{for:"description",class:"label"},"Описание товара",-1),O=["disabled"],S=["onClick"],H=(0,n._)("span",{class:"hidden"},"Удалить",-1),j=[H],C=["src"],M={class:"card__about"},N={class:"card__title"},x={class:"card__desc"},z={class:"card__price"};var D={setup(e){const l="cards",r=(0,u.iH)(!1),o=(0,u.iH)(!1),i=(0,u.iH)(JSON.parse(localStorage.getItem(l)||"[]")),c=(0,u.iH)({"По цене min":W,"По цене max":I,"По наименованию":T}),s=(0,u.iH)("По цене min");(0,n.m0)((()=>{localStorage.setItem(l,JSON.stringify(i.value))}));const d=(0,u.iH)({name:{id:"name",type:"text",labelName:"Наименование товара",placeholder:"Введите наименование товара",error:!1,errorMsg:"",reqValue:""},link:{id:"link",type:"url",labelName:"Ссылка на изображение товара",placeholder:"Введите ссылку",error:!1,errorMsg:"",reqValue:""},price:{id:"price",type:"number",labelName:"Цена товара",placeholder:"Введите цену",error:!1,errorMsg:"",reqValue:""}}),p=(0,u.iH)(""),m=(0,u.iH)(!0);function f(e){""===e.reqValue?(e.error=!0,e.errorMsg="Поле является обязательным"):e==d.value.link?_(e):(e.error=!1,g())}function _(e){try{new URL(e.reqValue);e.error=!1}catch(l){e.error=!0,e.errorMsg="Введите валидный URL"}}function g(){""!==d.value.name.reqValue&&""!==d.value.link.reqValue&&""!==d.value.price.reqValue?m.value=!1:m.value=!0}function H(){o.value=!0,setTimeout((()=>o.value=!1),1e3)}function D(){if(!1===m.value){switch(i.value.push({title:d.value.name.reqValue,desc:p.value,link:d.value.link.reqValue,price:d.value.price.reqValue}),d.value.name.reqValue="",p.value="",d.value.link.reqValue="",d.value.price.reqValue="",m.value=!0,s.value){case"По наименованию":T();break;case"По цене min":W();break;case"По цене max":W();break}H()}}function U(e){i.value.splice(i.value.indexOf(e),1)}function W(){i.value.sort(((e,l)=>(e=e.price,l=l.price,e-l)))}function I(){i.value.sort(((e,l)=>(e=Number(e.price),l=Number(l.price),e<l?1:e>l?-1:0)))}function T(){i.value.sort(((e,l)=>(e=String(e.title).toLowerCase(),l=String(l.title).toLowerCase(),e<l?-1:e>l?1:0)))}return(e,l)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",h,[V,(0,n.wy)((0,n._)("select",{name:"sort",id:"sort",class:"sort__btn","onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.value,((e,l)=>((0,n.wg)(),(0,n.iD)("option",{key:l,value:l,onClick:e},(0,t.zw)(l),9,w)))),128))],512),[[a.bM,s.value]])]),(0,n._)("form",{onSubmit:(0,a.iM)(D,["prevent"]),class:"form"},[(0,n.Wm)(b,(0,n.dG)(d.value.name,{modelValue:d.value.name.reqValue,"onUpdate:modelValue":[l[1]||(l[1]=e=>d.value.name.reqValue=e),l[2]||(l[2]=e=>f(d.value.name))]}),null,16,["modelValue"]),(0,n._)("div",y,[q,(0,n.wy)((0,n._)("textarea",{class:"input",name:"description",id:"description",placeholder:"Введите описание товара","onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),rows:"6"},null,512),[[a.nr,p.value]])]),(0,n.Wm)(b,(0,n.dG)(d.value.link,{modelValue:d.value.link.reqValue,"onUpdate:modelValue":[l[4]||(l[4]=e=>d.value.link.reqValue=e),l[5]||(l[5]=e=>f(d.value.link))]}),null,16,["modelValue"]),(0,n.Wm)(b,(0,n.dG)(d.value.price,{modelValue:d.value.price.reqValue,"onUpdate:modelValue":[l[6]||(l[6]=e=>d.value.price.reqValue=e),l[7]||(l[7]=e=>f(d.value.price))]}),null,16,["modelValue"]),(0,n._)("button",{type:"submit",class:"btn",disabled:m.value}," Добавить товар ",8,O)],40,k),(0,n.Wm)(a.W3,{tag:"ul",name:"fade",class:"gallery"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.value,(e=>((0,n.wg)(),(0,n.iD)("li",{class:(0,t.C_)(["card",{open:r.value}]),key:e,onTouchend:l[8]||(l[8]=e=>r.value=!r.value)},[(0,n._)("button",{class:"card__delete",onClick:l=>U(e)},j,8,S),(0,n._)("img",{src:e.link,class:"card__img",alt:"",width:"332",height:"200",loading:"lazy",decoding:"async"},null,8,C),(0,n._)("div",M,[(0,n._)("h3",N,(0,t.zw)(e.title),1),(0,n._)("p",x,(0,t.zw)(e.desc),1),(0,n._)("p",z,(0,t.zw)(e.price.replace(/\B(?=(\d{3})+(?!\d))/g," ")),1)])],34)))),128))])),_:1}),o.value?((0,n.wg)(),(0,n.j4)(v,{key:0})):(0,n.kq)("",!0)],64))}};const U=D;var W=U;const I=(0,n._)("h1",{class:"hidden"},"Idaproject Frontend-developer test",-1),T=(0,n._)("header",{class:"header"},[(0,n._)("h2",null,"Добавление товара")],-1),L=(0,n._)("h2",{class:"hidden"},"Галерея",-1);var Y={setup(e){return(e,l)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[I,T,(0,n._)("main",null,[(0,n._)("section",null,[L,(0,n.Wm)(W)])])],64))}};const G=Y;var B=G;(0,a.ri)(B).mount("#app")}},l={};function r(a){var n=l[a];if(void 0!==n)return n.exports;var t=l[a]={exports:{}};return e[a](t,t.exports,r),t.exports}r.m=e,function(){var e=[];r.O=function(l,a,n,t){if(!a){var u=1/0;for(s=0;s<e.length;s++){a=e[s][0],n=e[s][1],t=e[s][2];for(var o=!0,i=0;i<a.length;i++)(!1&t||u>=t)&&Object.keys(r.O).every((function(e){return r.O[e](a[i])}))?a.splice(i--,1):(o=!1,t<u&&(u=t));if(o){e.splice(s--,1);var c=n();void 0!==c&&(l=c)}}return l}t=t||0;for(var s=e.length;s>0&&e[s-1][2]>t;s--)e[s]=e[s-1];e[s]=[a,n,t]}}(),function(){r.d=function(e,l){for(var a in l)r.o(l,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={143:0};r.O.j=function(l){return 0===e[l]};var l=function(l,a){var n,t,u=a[0],o=a[1],i=a[2],c=0;if(u.some((function(l){return 0!==e[l]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(i)var s=i(r)}for(l&&l(a);c<u.length;c++)t=u[c],r.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return r.O(s)},a=self["webpackChunkidaproject_test"]=self["webpackChunkidaproject_test"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(502)}));a=r.O(a)})();
//# sourceMappingURL=app.bf1a66af.js.map